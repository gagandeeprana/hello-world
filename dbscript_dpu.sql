-- MySQL Script generated by MySQL Workbench
-- 07/21/16 11:57:09
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';

-- -----------------------------------------------------
-- Schema dpu
-- -----------------------------------------------------
-- This db is regarding a trucking application and much more.

-- -----------------------------------------------------
-- Schema dpu
--
-- This db is regarding a trucking application and much more.
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `dpu` DEFAULT CHARACTER SET utf8 ;
USE `dpu` ;

-- -----------------------------------------------------
-- Table `dpu`.`terminalmaster`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `dpu`.`terminalmaster` (
  `terminal_id` INT NOT NULL AUTO_INCREMENT,
  `name` VARCHAR(255) NULL,
  UNIQUE INDEX `terminal_id_UNIQUE` (`terminal_id` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `dpu`.`equipmentmaster`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `dpu`.`equipmentmaster` (
  `equipment_id` INT NOT NULL AUTO_INCREMENT,
  `title` VARCHAR(150) NULL,
  PRIMARY KEY (`equipment_id`),
  UNIQUE INDEX `container_id_UNIQUE` (`equipment_id` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `dpu`.`classmaster`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `dpu`.`classmaster` (
  `class_id` INT NOT NULL AUTO_INCREMENT,
  `title` VARCHAR(150) NULL,
  PRIMARY KEY (`class_id`),
  UNIQUE INDEX `class_id_UNIQUE` (`class_id` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `dpu`.`companymaster`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `dpu`.`companymaster` (
  `company_id` INT NOT NULL AUTO_INCREMENT,
  `name` VARCHAR(155) NULL,
  PRIMARY KEY (`company_id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `dpu`.`trackingmaster`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `dpu`.`trackingmaster` (
  `tracking_id` INT NOT NULL AUTO_INCREMENT,
  `tracking_date` DATETIME NULL,
  PRIMARY KEY (`tracking_id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `dpu`.`powerunitmaster`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `dpu`.`powerunitmaster` (
  `unit_no` INT NOT NULL AUTO_INCREMENT,
  `status` VARCHAR(45) NULL,
  `class` VARCHAR(45) NULL,
  `owner_id` INT NULL,
  `VIN` VARCHAR(45) NULL,
  `make` VARCHAR(45) NULL,
  `model` VARCHAR(45) NULL,
  `year` INT NULL,
  `plate_no` VARCHAR(45) NULL,
  `jurisdiction` VARCHAR(10) NULL,
  `tare_weight` INT NULL,
  `rgw` VARCHAR(155) NULL,
  `tracking_id` INT NULL,
  `current_odometer` VARCHAR(45) NULL,
  `equipment_type` VARCHAR(45) NULL,
  `terminal_id` INT NULL,
  PRIMARY KEY (`unit_no`),
  INDEX `owner_id_idx` (`owner_id` ASC),
  INDEX `tracking_id_idx` (`tracking_id` ASC),
  INDEX `terminal_id_idx` (`terminal_id` ASC),
  CONSTRAINT `owner_id`
    FOREIGN KEY (`owner_id`)
    REFERENCES `dpu`.`companymaster` (`company_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `tracking_id`
    FOREIGN KEY (`tracking_id`)
    REFERENCES `dpu`.`trackingmaster` (`tracking_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `terminal_id`
    FOREIGN KEY (`terminal_id`)
    REFERENCES `dpu`.`terminalmaster` (`terminal_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `dpu`.`categorymaster`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `dpu`.`categorymaster` (
  `category_id` INT NOT NULL AUTO_INCREMENT,
  `name` VARCHAR(45) NULL,
  PRIMARY KEY (`category_id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `dpu`.`straighttruckmaster`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `dpu`.`straighttruckmaster` (
  `unit_no` INT NOT NULL AUTO_INCREMENT,
  `class` VARCHAR(45) NULL,
  `VIN` VARCHAR(45) NULL,
  `make` VARCHAR(45) NULL,
  `model` VARCHAR(45) NULL,
  `year` INT NULL,
  `plate_no` VARCHAR(45) NULL,
  `jurisdiction` VARCHAR(45) NULL,
  `tare_weight` VARCHAR(45) NULL,
  `rgw` VARCHAR(45) NULL,
  `tracking_id` INT NULL,
  `current_odometer` VARCHAR(45) NULL,
  `reading_taken` DATE NULL,
  `created_by` INT NULL,
  `created_on` DATE NULL,
  `division` VARCHAR(45) NULL,
  `terminal_id` INT NULL,
  `category_id` INT NULL,
  `IFTA_account` VARCHAR(45) NULL,
  PRIMARY KEY (`unit_no`),
  INDEX `tracking_id_idx` (`tracking_id` ASC),
  INDEX `terminal_id_idx` (`terminal_id` ASC),
  INDEX `category_id_idx` (`category_id` ASC),
  CONSTRAINT `tracking_id`
    FOREIGN KEY (`tracking_id`)
    REFERENCES `dpu`.`trackingmaster` (`tracking_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `terminal_id`
    FOREIGN KEY (`terminal_id`)
    REFERENCES `dpu`.`terminalmaster` (`terminal_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `category_id`
    FOREIGN KEY (`category_id`)
    REFERENCES `dpu`.`categorymaster` (`category_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `dpu`.`divisionmaster`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `dpu`.`divisionmaster` (
  `division_id` INT NOT NULL AUTO_INCREMENT,
  `name` VARCHAR(45) NULL,
  PRIMARY KEY (`division_id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `dpu`.`drivermaster`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `dpu`.`drivermaster` (
  `driver_id` INT NOT NULL AUTO_INCREMENT,
  `first_name` VARCHAR(45) NULL,
  `last_name` VARCHAR(45) NULL,
  `def_truck` VARCHAR(45) NULL,
  `address` VARCHAR(45) NULL,
  `home_phone` VARCHAR(45) NULL,
  `cellular` VARCHAR(45) NULL,
  `pager` VARCHAR(45) NULL,
  `status` INT NULL,
  `last_trip` VARCHAR(45) NULL,
  `last_ETA` DATE NULL,
  `last_event` VARCHAR(45) NULL,
  `last_location` VARCHAR(45) NULL,
  `last_city` VARCHAR(45) NULL,
  `L/S` VARCHAR(45) NULL,
  `fax_no` VARCHAR(45) NULL,
  `division_id` INT NULL,
  `terminal_id` INT NULL,
  `category_id` INT NULL,
  `class_id` INT NULL,
  `zip` VARCHAR(45) NULL,
  `role_id` INT NULL,
  PRIMARY KEY (`driver_id`),
  INDEX `division_id_idx` (`division_id` ASC),
  INDEX `terminal_id_idx` (`terminal_id` ASC),
  INDEX `category_id_idx` (`category_id` ASC),
  INDEX `class_id_idx` (`class_id` ASC),
  CONSTRAINT `division_id`
    FOREIGN KEY (`division_id`)
    REFERENCES `dpu`.`divisionmaster` (`division_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `terminal_id`
    FOREIGN KEY (`terminal_id`)
    REFERENCES `dpu`.`terminalmaster` (`terminal_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `category_id`
    FOREIGN KEY (`category_id`)
    REFERENCES `dpu`.`categorymaster` (`category_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `class_id`
    FOREIGN KEY (`class_id`)
    REFERENCES `dpu`.`classmaster` (`class_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `dpu`.`rolemaster`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `dpu`.`rolemaster` (
  `role_id` INT NOT NULL AUTO_INCREMENT,
  `title` VARCHAR(45) NULL,
  PRIMARY KEY (`role_id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `dpu`.`trailermaster`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `dpu`.`trailermaster` (
  `trailer_id` INT NOT NULL AUTO_INCREMENT,
  `class_id` INT NULL,
  `equipment_id` INT NULL,
  `length` INT NULL,
  `VIN` VARCHAR(45) NULL,
  `make` VARCHAR(45) NULL,
  `model` VARCHAR(45) NULL,
  `year` INT NULL,
  `plate_no` VARCHAR(45) NULL,
  `jurisdiction` VARCHAR(45) NULL,
  `tare_weight` VARCHAR(45) NULL,
  `rgw` VARCHAR(45) NULL,
  `current_odometer` VARCHAR(45) NULL,
  `reading_taken_date` DATETIME NULL,
  `created_by` INT NULL,
  `created_on` DATETIME NULL,
  PRIMARY KEY (`trailer_id`),
  INDEX `class_id_idx` (`class_id` ASC),
  INDEX `equipment_id_idx` (`equipment_id` ASC),
  CONSTRAINT `class_id`
    FOREIGN KEY (`class_id`)
    REFERENCES `dpu`.`classmaster` (`class_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `equipment_id`
    FOREIGN KEY (`equipment_id`)
    REFERENCES `dpu`.`equipmentmaster` (`equipment_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `dpu`.`tripmaster`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `dpu`.`tripmaster` (
  `trip_no` INT NOT NULL AUTO_INCREMENT,
  `driver_id` INT NULL,
  `truck_id` INT NULL,
  `trailer_id` INT NULL,
  `comment` VARCHAR(45) NULL,
  `next_date` DATETIME NULL,
  `next_event` VARCHAR(45) NULL,
  `next_location` VARCHAR(45) NULL,
  `next_city` VARCHAR(45) NULL,
  `next_state` VARCHAR(45) NULL,
  `last_location` VARCHAR(45) NULL,
  `last_city` VARCHAR(45) NULL,
  `last_state` VARCHAR(45) NULL,
  `phone` VARCHAR(45) NULL,
  `cellular` VARCHAR(45) NULL,
  `on_time` INT NULL,
  `check_call_location` VARCHAR(45) NULL,
  `eta_to_nextstop` VARCHAR(45) NULL,
  PRIMARY KEY (`trip_no`),
  INDEX `driver_id_idx` (`driver_id` ASC),
  INDEX `truck_id_idx` (`truck_id` ASC),
  INDEX `trailer_id_idx` (`trailer_id` ASC),
  CONSTRAINT `driver_id`
    FOREIGN KEY (`driver_id`)
    REFERENCES `dpu`.`drivermaster` (`driver_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `truck_id`
    FOREIGN KEY (`truck_id`)
    REFERENCES `dpu`.`powerunitmaster` (`unit_no`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `trailer_id`
    FOREIGN KEY (`trailer_id`)
    REFERENCES `dpu`.`trailermaster` (`trailer_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `dpu`.`acipassengermaster`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `dpu`.`acipassengermaster` (
  `passenger_id` INT NOT NULL AUTO_INCREMENT,
  `first_name` VARCHAR(45) NULL,
  `last_name` VARCHAR(45) NULL,
  `address` VARCHAR(45) NULL,
  `city` VARCHAR(45) NULL,
  `present_state` VARCHAR(45) NULL,
  `zip` VARCHAR(45) NULL,
  `phone` VARCHAR(45) NULL,
  `cell_no` VARCHAR(45) NULL,
  `email_id` VARCHAR(45) NULL,
  `dob` DATETIME NULL,
  PRIMARY KEY (`passenger_id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `dpu`.`salespersonmaster`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `dpu`.`salespersonmaster` (
  `person_id` INT NOT NULL,
  `name` VARCHAR(45) NULL,
  `address` VARCHAR(45) NULL,
  `city` VARCHAR(45) NULL,
  `present_state` VARCHAR(45) NULL,
  `postal_code` VARCHAR(45) NULL,
  `phone_no` VARCHAR(45) NULL,
  `fax_no` VARCHAR(45) NULL,
  `cellular_no` VARCHAR(45) NULL,
  `pager_no` VARCHAR(45) NULL,
  PRIMARY KEY (`person_id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `dpu`.`containermaster`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `dpu`.`containermaster` (
  `container_id` INT NOT NULL AUTO_INCREMENT,
  `owner_id` INT NULL,
  `equipment_id` INT NULL,
  `terminal_id` INT NULL,
  PRIMARY KEY (`container_id`),
  INDEX `owner_id_idx` (`owner_id` ASC),
  INDEX `equipment_id_idx` (`equipment_id` ASC),
  INDEX `terminal_id_idx` (`terminal_id` ASC),
  CONSTRAINT `owner_id_containermaster`
    FOREIGN KEY (`owner_id`)
    REFERENCES `dpu`.`companymaster` (`company_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `equipment_id_containermaster`
    FOREIGN KEY (`equipment_id`)
    REFERENCES `dpu`.`equipmentmaster` (`equipment_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `terminal_id_containermaster`
    FOREIGN KEY (`terminal_id`)
    REFERENCES `dpu`.`terminalmaster` (`terminal_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
